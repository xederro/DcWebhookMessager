import{r as k,a as h,h as g,c as V,a8 as K,a9 as G,a3 as Y,x as X,b as L,g as M,aa as N,F as H,o as Z,d as ee,f as x,k as R,m as te,q as ae,_ as se,N as ne,ab as oe,Q as z,P as v,W as B,V as I}from"./index.c9866291.js";import{u as re,f as ie,a as le,g as ue,d as ce,e as A,Q as de}from"./use-quasar.0e84a1e3.js";function he(s,e){const a=k(null),t=h(()=>s.disable===!0?null:g("span",{ref:a,class:"no-outline",tabindex:-1}));function o(u){const n=e.value;u!==void 0&&u.type.indexOf("key")===0?n!==null&&document.activeElement!==n&&n.contains(document.activeElement)===!0&&n.focus():a.value!==null&&(u===void 0||n!==null&&n.contains(u.target)===!0)&&a.value.focus()}return{refocusTargetEl:t,refocusTarget:o}}var fe={xs:30,sm:35,md:40,lg:50,xl:60};const me=g("svg",{key:"svg",class:"q-radio__bg absolute non-selectable",viewBox:"0 0 24 24"},[g("path",{d:"M12,22a10,10 0 0 1 -10,-10a10,10 0 0 1 10,-10a10,10 0 0 1 10,10a10,10 0 0 1 -10,10m0,-22a12,12 0 0 0 -12,12a12,12 0 0 0 12,12a12,12 0 0 0 12,-12a12,12 0 0 0 -12,-12"}),g("path",{class:"q-radio__check",d:"M12,6a6,6 0 0 0 -6,6a6,6 0 0 0 6,6a6,6 0 0 0 6,-6a6,6 0 0 0 -6,-6"})]);var j=V({name:"QRadio",props:{...re,...K,...ie,modelValue:{required:!0},val:{required:!0},label:String,leftLabel:Boolean,checkedIcon:String,uncheckedIcon:String,color:String,keepColor:Boolean,dense:Boolean,disable:Boolean,tabindex:[String,Number]},emits:["update:modelValue"],setup(s,{slots:e,emit:a}){const{proxy:t}=M(),o=le(s,t.$q),u=G(s,fe),n=k(null),{refocusTargetEl:i,refocusTarget:m}=he(s,n),c=h(()=>N(s.modelValue)===N(s.val)),d=h(()=>"q-radio cursor-pointer no-outline row inline no-wrap items-center"+(s.disable===!0?" disabled":"")+(o.value===!0?" q-radio--dark":"")+(s.dense===!0?" q-radio--dense":"")+(s.leftLabel===!0?" reverse":"")),f=h(()=>{const l=s.color!==void 0&&(s.keepColor===!0||c.value===!0)?` text-${s.color}`:"";return`q-radio__inner relative-position q-radio__inner--${c.value===!0?"truthy":"falsy"}${l}`}),b=h(()=>(c.value===!0?s.checkedIcon:s.uncheckedIcon)||null),S=h(()=>s.disable===!0?-1:s.tabindex||0),T=h(()=>{const l={type:"radio"};return s.name!==void 0&&Object.assign(l,{"^checked":c.value===!0?"checked":void 0,name:s.name,value:s.val}),l}),E=ue(T);function q(l){l!==void 0&&(H(l),m(l)),s.disable!==!0&&c.value!==!0&&a("update:modelValue",s.val,l)}function _(l){(l.keyCode===13||l.keyCode===32)&&H(l)}function P(l){(l.keyCode===13||l.keyCode===32)&&q(l)}return Object.assign(t,{set:q}),()=>{const l=b.value!==null?[g("div",{key:"icon",class:"q-radio__icon-container absolute-full flex flex-center no-wrap"},[g(Y,{class:"q-radio__icon",name:b.value})])]:[me];s.disable!==!0&&E(l,"unshift"," q-radio__native q-ma-none q-pa-none");const y=[g("div",{class:f.value,style:u.value,"aria-hidden":"true"},l)];i.value!==null&&y.push(i.value);const F=s.label!==void 0?X(e.default,[s.label]):L(e.default);return F!==void 0&&y.push(g("div",{class:"q-radio__label q-anchor--skip"},F)),g("div",{ref:n,class:d.value,tabindex:S.value,role:"radio","aria-label":s.label,"aria-checked":c.value===!0?"true":"false","aria-disabled":s.disable===!0?"true":void 0,onClick:q,onKeydown:_,onKeyup:P},y)}}});function ve(s,e,a){return a<=e?e:Math.min(a,Math.max(e,s))}const $=XMLHttpRequest,U=$.prototype.open,ge=["top","right","bottom","left"];let C=[],O=0;function be({p:s,pos:e,active:a,horiz:t,reverse:o,dir:u}){let n=1,i=1;return t===!0?(o===!0&&(n=-1),e==="bottom"&&(i=-1),{transform:`translate3d(${n*(s-100)}%,${a?0:i*-200}%,0)`}):(o===!0&&(i=-1),e==="right"&&(n=-1),{transform:`translate3d(${a?0:u*n*-200}%,${i*(s-100)}%,0)`})}function ye(s,e){return typeof e!="number"&&(s<25?e=Math.random()*3+3:s<65?e=Math.random()*3:s<85?e=Math.random()*2:s<99?e=.6:e=0),ve(s+e,0,100)}function pe(s){O++,C.push(s),!(O>1)&&($.prototype.open=function(e,a){const t=[],o=()=>{C.forEach(n=>{(n.hijackFilter.value===null||n.hijackFilter.value(a)===!0)&&(n.start(),t.push(n.stop))})},u=()=>{t.forEach(n=>{n()})};this.addEventListener("loadstart",o,{once:!0}),this.addEventListener("loadend",u,{once:!0}),U.apply(this,arguments)})}function ke(s){C=C.filter(e=>e.start!==s),O=Math.max(0,O-1),O===0&&($.prototype.open=U)}var we=V({name:"QAjaxBar",props:{position:{type:String,default:"top",validator:s=>ge.includes(s)},size:{type:String,default:"2px"},color:String,skipHijack:Boolean,reverse:Boolean,hijackFilter:Function},emits:["start","stop"],setup(s,{emit:e}){const{proxy:a}=M(),t=k(0),o=k(!1),u=k(!0);let n=0,i,m;const c=h(()=>`q-loading-bar q-loading-bar--${s.position}`+(s.color!==void 0?` bg-${s.color}`:"")+(u.value===!0?"":" no-transition")),d=h(()=>s.position==="top"||s.position==="bottom"),f=h(()=>d.value===!0?"height":"width"),b=h(()=>{const l=o.value,y=be({p:t.value,pos:s.position,active:l,horiz:d.value,reverse:a.$q.lang.rtl===!0&&["top","bottom"].includes(s.position)?s.reverse===!1:s.reverse,dir:a.$q.lang.rtl===!0?-1:1});return y[f.value]=s.size,y.opacity=l?1:0,y}),S=h(()=>o.value===!0?{role:"progressbar","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":t.value}:{"aria-hidden":"true"});function T(l=300){const y=m;return m=Math.max(0,l)||0,n++,n>1?(y===0&&l>0?_():y>0&&l<=0&&clearTimeout(i),n):(clearTimeout(i),e("start"),t.value=0,i=setTimeout(()=>{u.value=!0,l>0&&_()},o.value===!0?500:1),o.value!==!0&&(o.value=!0,u.value=!1),n)}function E(l){return n>0&&(t.value=ye(t.value,l)),n}function q(){if(n=Math.max(0,n-1),n>0)return n;clearTimeout(i),e("stop");const l=()=>{u.value=!0,t.value=100,i=setTimeout(()=>{o.value=!1},1e3)};return t.value===0?i=setTimeout(l,1):l(),n}function _(){t.value<100&&(i=setTimeout(()=>{E(),_()},m))}let P;return Z(()=>{s.skipHijack!==!0&&(P=!0,pe({start:T,stop:q,hijackFilter:h(()=>s.hijackFilter||null)}))}),ee(()=>{clearTimeout(i),P===!0&&ke(T)}),Object.assign(a,{start:T,stop:q,increment:E}),()=>g("div",{class:c.value,style:b.value,...S.value})}}),qe=V({name:"QPage",props:{padding:Boolean,styleFn:Function},setup(s,{slots:e}){const{proxy:{$q:a}}=M(),t=R(te,x);if(t===x)return console.error("QPage needs to be a deep child of QLayout"),x;if(R(ae,x)===x)return console.error("QPage needs to be child of QPageContainer"),x;const u=h(()=>{const i=(t.header.space===!0?t.header.size:0)+(t.footer.space===!0?t.footer.size:0);if(typeof s.styleFn=="function"){const m=t.isContainer.value===!0?t.containerHeight.value:a.screen.height;return s.styleFn(i,m)}return{minHeight:t.isContainer.value===!0?t.containerHeight.value-i+"px":a.screen.height===0?i!==0?`calc(100vh - ${i}px)`:"100vh":a.screen.height-i+"px"}}),n=h(()=>`q-page${s.padding===!0?" q-layout-padding":""}`);return()=>g("main",{class:n.value,style:u.value},L(e.default))}});function W(s){if(s.__esModule)return s;var e=Object.defineProperty({},"__esModule",{value:!0});return Object.keys(s).forEach(function(a){var t=Object.getOwnPropertyDescriptor(s,a);Object.defineProperty(e,a,t.get?t:{enumerable:!0,get:function(){return s[a]}})}),e}class xe{constructor(){this.data={attachments:[{fields:[]}]}}getJSON(){return this.data}setDescription(e){return this.data.attachments[0].text=e,this}setAvatar(e){return this.data.icon_url=e,this}setFooter(e,a){return this.data.attachments[0].footer=e,a&&(this.data.attachments[0].footer_icon=a),this}setTitle(e){return this.data.attachments[0].title=e,this}setName(e){return this.data.username=e,this}setColor(e){return this.data.attachments[0].color=e,this}setText(e){return this.data.text=e,this}setURL(e){return this.data.attachments[0].title_link=e,this}setAuthor(e,a,t){return this.data.attachments[0].author_name=e,a&&(this.data.attachments[0].author_icon=a),t&&(this.data.attachments[0].author_link=t),this}addField(e,a,t){t||(t=!1);const o={title:e,value:a,short:t};return this.data.attachments[0].fields.push(o),this}removeField(e){return this.data.attachments[0].fields=this.data.attachments[0].fields.filter(a=>a.title!=e),this}setTime(e){return e||(e=new Date/1e3),this.data.attachments[0].ts=e,this}setImage(e){return e||process.emitWarning("Image passed was null, nothing will be displayed in Discord"),this.data.attachments[0].image_url=e,this}setThumbnail(e){return e||process.emitWarning("thumbnail passed was null, nothing will be displayed in Discord"),this.data.attachments[0].thumb_url=e,this}}var Se=xe,Te={},_e=Object.freeze(Object.defineProperty({__proto__:null,default:Te},Symbol.toStringTag,{value:"Module"})),J=W(_e);function je(s,e){return{method:s,path:e,redirect:this.options.followRedirects?"follow":"manual",headers:{},setHeader(a,t){this.headers[a.toLowerCase()]=t},getHeader(a){return this.headers[a.toLowerCase()]}}}function Oe(){return this._finalizeRequest(),this.data&&(this.request.body=this.data),window.fetch(this.request.path,this.request).then(s=>s.text().then(e=>{const a={};for(const[t,o]of s.headers.entries())a[t.toLowerCase()]=o;return{response:s,raw:e,headers:a}}))}var Ee={buildRequest:je,finalizeRequest:Oe,shouldSendRaw:()=>!1,METHODS:["GET","HEAD","POST","PUT","DELETE","CONNECT","OPTIONS","PATCH"],STATUS_CODES:{},Extension:Object,FormData:window.FormData};const Pe=typeof window!="undefined",Ce=J,p=Pe?Ee:J;class w extends p.Extension{constructor(e,a,t={}){super(),this.options=Object.assign({version:1,qs:Ce,followRedirects:!0},t),this.request=p.buildRequest.call(this,e,a,t),t.headers&&this.set(t.headers),t.query&&this.query(t.query),t.data&&this.send(t.data)}query(e,a){if(this.request.query||(this.request.query={}),e!==null&&typeof e=="object")for(const[t,o]of Object.entries(e))this.query(t,o);else this.request.query[e]=a;return this}set(e,a){if(e!==null&&typeof e=="object")for(const t of Object.keys(e))this.set(t,e[t]);else this.request.setHeader(e,a);return this}attach(...e){const a=this.data instanceof p.FormData?this.data:this.data=new p.FormData;if(typeof e[0]=="object")for(const[t,o]of Object.entries(e[0]))this.attach(t,o);else a.append(...e);return this}send(e){if(e instanceof p.FormData||p.shouldSendRaw(e))this.data=e;else if(e!==null&&typeof e=="object"){const a=this.request.getHeader("content-type");let t;a?a.includes("json")?t=JSON.stringify:a.includes("urlencoded")&&(t=this.options.qs.stringify):(this.set("Content-Type","application/json"),t=JSON.stringify),this.data=t(e)}else this.data=e;return this}then(e,a){return this._response?this._response.then(e,a):this._response=p.finalizeRequest.call(this).then(({response:t,raw:o,redirect:u,headers:n})=>{if(u){let d=this.request.method;[301,302].includes(t.statusCode)?(d!=="HEAD"&&(d="GET"),this.data=null):t.statusCode===303&&(d="GET");const f=this.request.getHeaders();return delete f.host,new w(d,u,{data:this.data,headers:f,version:this.options.version})}const i=t.statusCode||t.status,m=this,c={request:this.request,get body(){delete c.body;const d=this.headers["content-type"];if(d&&d.includes("application/json"))try{c.body=JSON.parse(c.text)}catch{c.body=c.text}else d&&d.includes("application/x-www-form-urlencoded")?c.body=m.options.qs.parse(c.text):c.body=o;return c.body},text:o.toString(),ok:i>=200&&i<400,headers:n||t.headers,status:i,statusText:t.statusText||p.STATUS_CODES[t.statusCode]};if(c.ok)return c;{const d=new Error(`${c.status} ${c.statusText}`.trim());return Object.assign(d,c),Promise.reject(d)}}).then(e,a)}catch(e){return this.then(null,e)}end(e){return this.then(a=>e?e(null,a):a,a=>e?e(a,a.status?a:null):Promise.reject(a))}_finalizeRequest(){if(!!this.request&&(this.request.method!=="HEAD"&&this.set("Accept-Encoding","gzip, deflate"),this.data&&this.data.getBoundary&&this.set("Content-Type",`multipart/form-data; boundary=${this.data.getBoundary()}`),this.request.query)){const[e,a]=this.request.path.split("?");this.request.path=`${e}?${this.options.qs.stringify(this.request.query)}${a?`&${a}`:""}`}}}w.METHODS=p.METHODS.concat("BREW").filter(s=>s!=="M-SEARCH");for(const s of w.METHODS)w[s.toLowerCase()]=function(a,t){const o=this.prototype instanceof w?this:w;return new o(s,a,t)};var De=w,r=De;const Ve=r.version,Me=r.METHODS,$e=r.acl,Fe=r.bind,Ne=r.checkout,He=r.connect,Re=r.copy,ze=r.delete,Be=r.get,Ie=r.head,Ae=r.link,Qe=r.lock,Le=r.merge,Ue=r.mkactivity,We=r.mkcalendar,Je=r.mkcol,Ke=r.move,Ge=r.notify,Ye=r.options,Xe=r.patch,Ze=r.post,et=r.propfind,tt=r.proppatch,at=r.purge,st=r.put,nt=r.rebind,ot=r.report,rt=r.search,it=r.subscribe,lt=r.trace,ut=r.unbind,ct=r.unlink,dt=r.unlock,ht=r.unsubscribe,ft=r.brew;var mt=Object.freeze(Object.defineProperty({__proto__:null,default:r,version:Ve,METHODS:Me,acl:$e,bind:Fe,checkout:Ne,connect:He,copy:Re,delete:ze,get:Be,head:Ie,link:Ae,lock:Qe,merge:Le,mkactivity:Ue,mkcalendar:We,mkcol:Je,move:Ke,notify:Ge,options:Ye,patch:Xe,post:Ze,propfind:et,proppatch:tt,purge:at,put:st,rebind:nt,report:ot,search:rt,subscribe:it,trace:lt,unbind:ut,unlink:ct,unlock:dt,unsubscribe:ht,brew:ft},Symbol.toStringTag,{value:"Module"})),vt=W(mt);const gt=Se,Q=vt,bt="https://discordapp.com/api/v7/webhooks";class yt{constructor(e,a=!1){this.url=e,this.id="",this.token="",this.meta={},this.ready=!1,this.nowait=a,Q.get(this.url).then(t=>{let o=JSON.parse(t.text);Object.assign(this.meta,o),this.id=o.id,this.token=o.token,this.ready=!0}).catch(t=>{throw t})}verifyName(e){if(e.length>32)throw new Error(`The name specified was ${e.length} characters. Discord webhook names must be under 32 characters`)}checkFieldValueLength(e){if(e.length>1024)throw new Error(`The value given was ${e.length} characters, fields of Discord embeds must be under 1024 characters`)}checkFields(e){return e?Object.keys(e).indexOf("fields")==-1?new Promise(a=>a()):new Promise(a=>{const t=[];for(var o=0;o<e.fields.length;o++)t.push(this.checkFieldValueLength(e.fields[o].value));Promise.all(t).then(()=>{a()})}):new Promise(a=>a())}sendPayload(e,a){let t=this.sanitiseEmbeds(e);this.verifyName(t.username),this.checkFields(t.attachments[0]).then(()=>{if(this.ready)return new Promise((o,u)=>{Q.post(this.endpoint).send(t).then(n=>{a&&a(n),o()}).catch(n=>{let i=JSON.parse(n.text);i.code===50006&&u({error:"No content specified"}),i.retry_after?setTimeout(()=>{this.sendPayload(t,o)},i.retry_after):u(n)})});setTimeout(()=>{this.sendPayload(t,a)},10)})}get endpoint(){let e="";return this.nowait&&(e="?wait=false"),`${bt}/${this.id}/${this.token}/slack${e}`}err(e,a){let t={username:e,attachments:[{color:"#ff0000",fields:[{title:"Error",value:a}],ts:new Date/1e3}]};return this.sendPayload(t)}info(e,a){let t={username:e,attachments:[{color:"#00fffa",fields:[{title:"Information",value:a}],ts:new Date/1e3}]};return this.sendPayload(t)}success(e,a){let t={username:e,attachments:[{color:"#04ff00",fields:[{title:"Success",value:a}],ts:new Date/1e3}]};return this.sendPayload(t)}warn(e,a){let t={username:e,attachments:[{color:"#ffe900",fields:[{title:"Warning",value:a}],ts:new Date/1e3}]};return this.sendPayload(t)}custom(e,a,t,o,u){let n={username:e,attachments:[{fields:[{title:t,value:a}],ts:new Date/1e3}]};return o&&(n.attachments[0].color=o),u&&(n.attachments[0].image_url=u),this.sendPayload(n)}image(e,a,t,o){let u={username:e,attachments:[{fields:[{title:t,value:a}],ts:new Date/1e3,image_url:o}]};return this.sendPayload(u)}sanitiseEmbeds(e){let a=Object.assign({},e);return e.attachments.length>0&&(Object.keys(e.attachments[0]).length>1||e.attachments[0].fields.length>0||(a.attachments=[])),a}send(e){return new Promise((a,t)=>{if(e.data.username||t({error:"No username provided"}),e.data.text)return this.sendPayload(e.data,a);if(Object.keys(e.data.attachments[0]).length>1||e.data.attachments[0].fields.length>0)return this.sendPayload(e.data,a);t({error:"No content specified"})})}}var D={Webhook:yt,MessageBuilder:gt};const pt={setup(){const s=ce(),e=k(null),a=k(null),t=k(""),o=k(null),u=s.localStorage.getItem("url"),n=s.localStorage.getItem("name"),i=JSON.parse(s.localStorage.getItem("translationTable"));console.log(i);let m=new D.Webhook(u);return{text:e,title:a,color:t,wait:o,url:u,name:n,translationTable:i,async onSubmit(){o.value.start();try{let c=e.value;for(const[d,f]of Object.entries(i))console.log(d,f),c=c.replace(d,f);switch(t.value){case"":await m.send(new D.MessageBuilder().setName(n).setText(c)).catch(b=>{throw b});break;default:let d=new D.MessageBuilder().setName(n).addField(a.value,c).setColor(t.value),f="";for(const[b,S]of Object.entries(i))e.value.search(b)!==-1&&(f+=`${S}
`);f!==""&&d.setText(f),await m.send(d).catch(b=>{throw b});break}s.notify({color:"positive",textColor:"primary",icon:"cloud_done",message:"Sent"}),e.value=null,t.value="",a.value=null}catch(c){s.notify({color:"negative",textColor:"primary",icon:"warning",message:`Something went wrong, try again. 
 Error: `+c})}finally{o.value.stop()}},onReset(){e.value=null,a.value=null,t.value=""}}}},kt={class:"q-gutter-sm text-center"},wt={class:"text-center"};function qt(s,e,a,t,o,u){return ne(),oe(qe,{class:"full-width row no-wrap justify-center items-start content-start"},{default:z(()=>[v(de,{onSubmit:t.onSubmit,onReset:t.onReset,class:"col-md-8 col self-center q-gutter-lg",style:{overflow:"auto"},autofocus:""},{default:z(()=>[B("div",kt,[v(j,{"keep-color":"",modelValue:t.color,"onUpdate:modelValue":e[0]||(e[0]=n=>t.color=n),val:"",label:"Default",color:"primary"},null,8,["modelValue"]),v(j,{"keep-color":"",modelValue:t.color,"onUpdate:modelValue":e[1]||(e[1]=n=>t.color=n),val:"#00fffa",label:"Info",color:"info"},null,8,["modelValue"]),v(j,{"keep-color":"",modelValue:t.color,"onUpdate:modelValue":e[2]||(e[2]=n=>t.color=n),val:"#04ff00",label:"Success",color:"positive"},null,8,["modelValue"]),v(j,{"keep-color":"",modelValue:t.color,"onUpdate:modelValue":e[3]||(e[3]=n=>t.color=n),val:"#ffe900",label:"Warning",color:"warning"},null,8,["modelValue"]),v(j,{"keep-color":"",modelValue:t.color,"onUpdate:modelValue":e[4]||(e[4]=n=>t.color=n),val:"#ff0000",label:"Danger",color:"negative"},null,8,["modelValue"])]),v(A,{modelValue:t.title,"onUpdate:modelValue":e[5]||(e[5]=n=>t.title=n),disable:t.color==="",filled:"",label:"Title",hint:"Title of the message"},null,8,["modelValue","disable"]),v(A,{modelValue:t.text,"onUpdate:modelValue":e[6]||(e[6]=n=>t.text=n),filled:"",autogrow:"",label:"Your message",hint:"Your message for Discord","lazy-rules":"",rules:[n=>n&&n.length>0||"Please type something"]},null,8,["modelValue","rules"]),B("div",wt,[v(I,{label:"Send",type:"submit",color:"secondary"}),v(I,{label:"Reset",type:"reset",color:"secondary",flat:"",class:"q-ml-sm"})])]),_:1},8,["onSubmit","onReset"]),v(we,{ref:"wait",position:"bottom",color:"accent",size:"10px","skip-hijack":""},null,512)]),_:1})}var Tt=se(pt,[["render",qt]]);export{Tt as default};
